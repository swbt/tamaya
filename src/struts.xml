<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
  <!-- devMode = true の時、struts2を開発（デバッグ）モードで稼働する 必ず本番稼働の前にこの項目をfalseにするか、削除すること -->
  <constant name="struts.devMode" value="true"></constant>
  <constant name="struts.ui.theme" value="simple" />

  <package name="com.internousdev.tamaya.action" extends="struts-default">
    <action name="GoTopAction" class="com.internousdev.tamaya.action.GoTopAction" method="execute">
      <result name="success">top.jsp</result>
      <result name="error">top.jsp</result>
    </action>
    <action name="LoginAction" class="com.internousdev.tamaya.action.LoginAction" method="execute">
      <result name="success">top.jsp</result>
      <result name="error">top.jsp</result>
    </action>

    <action name="LogoutAction" class="com.internousdev.tamaya.action.LogoutAction"
      method="execute">
      <result name="success">top.jsp</result>
      <result name="error">top.jsp</result>
    </action>

    <action name="GoItemListAction"
      class="com.internousdev.tamaya.action.GoItemListAction" method="execute">
      <result name="item_list">item_list.jsp</result>
      <result name="top">top.jsp</result>
      <result name="error">top.jsp</result>
    </action>

    <action name="FetchItemDetailAction"
      class="com.internousdev.tamaya.action.FetchItemDetailAction" method="execute">
      <result name="success">syousai.jsp</result>
      <result name="error">index.jsp</result>
    </action>

    <!-- クレジットカード入力画面から次へ進むための処理 -->
    <action name="PaymentAction" class="com.internousdev.tamaya.action.PaymentAction"
      method="execute">
      <result name="success">siharai_kakunin.jsp</result>
      <result name="error">siharai.jsp</result>
      <result name="login">top.jsp</result>
    </action>

    <!-- クレジットカード入力画面から次へ進むための処理 -->
    <action name="PurchaseCompleteAction"
      class="com.internousdev.tamaya.action.PurchaseCompleteAction" method="execute">
      <result name="success" type="chain">PurchaseCompleteAction</result>
      <result name="error">siharai.jsp</result>
    </action>

    <!-- ログイン後のヘッダーからカート画面への遷移 -->
    <action name="GoCartAction" class="com.internousdev.tamaya.action.GoCartAction"
      method="execute">
      <result name="success">cart.jsp</result>
      <result name="error">cart.jsp</result>
    </action>


    <!-- カートに追加する処理 -->
    <action name="CartInsertAction" class="com.internousdev.tamaya.action.CartInsertAction"
      method="execute">
      <result name="success" type="chain">GoItemListAction</result>
      <result name="error">item_list.jsp</result>
    </action>

    <!-- カートから削除する処理 -->
    <action name="CartDeleteAction" class="com.internousdev.tamaya.action.CartDeleteAction"
      method="execute">
      <result name="success">cart.jsp</result>
      <result name="error">top.jsp</result>
    </action>


    <!-- カートを更新する処理 -->
    <action name="CartUpdateAction" class="com.internousdev.tamaya.action.CartUpdateAction"
      method="execute">
      <result name="success" type="chain">GoCartAction</result>
      <result name="error">top.jsp</result>
    </action>




  </package>
</struts>